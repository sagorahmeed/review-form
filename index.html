<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>review form</title>
    <link rel="stylesheet" href="./styles.css">
</head>

<body>
    <div class="review-container-fuild">
        <div class="review-container">
            <div class="review-form-wrapper">
                <form>
                    <h1 class="review-form-wrapper-heading">Write review</h1>
                    <div class="review-review-details">
                        <div class="review-review-product-img">
                            <img src="{{ product.featured_image | img_url: '275x' }}"
                                alt="{{ product.featured_image.alt | escape }} width=" 100" height="100"
                                class="review-review-product-img">

                        </div>
                        <div class="review-review-product-info">
                            <h1 class="review-review-product-info-heading">{{product.name}}</h1>
                            <div class="review-rate rating">
                                <input type="radio" id="5" value="5" name="rate" />
                                <label for="5"></label>
                                <input type="radio" id="4" name="rate" value="4" />
                                <label for="4"></label>
                                <input type="radio" id="3" name="rate" value="3" />
                                <label for="3"></label>
                                <input type="radio" id="2" name="rate" value="2" />
                                <label for="2"></label>
                                <input type="radio" id="1" name="rate" value="1" />
                                <label for="1"></label>
                            </div>
                        </div>
                    </div>
                    <div class="review-input-form-desc">
                        <div class="review-input-wrapper">
                            <label class="review-input-label" for="name">Name</label>
                            <input type="text" placeholder="Name" name="name" id="name" class="review-input-field">
                        </div>
                        <div class="review-input-wrapper">
                            <label class="review-input-label" for="name">Email Address</label>
                            <input type="text" placeholder="Email address" name="email" id="name"
                                class="review-input-field">
                        </div>
                        <div class="review-input-wrapper">
                            <label class="review-input-label" for="review_title">Review Title</label>
                            <input type="text" placeholder="Review title" name="title" id="review_title"
                                class="review-input-field">
                        </div>
                        <div class="review-input-wrapper">
                            <label class="review-input-label" for="feedback">Your Feedback</label>
                            <textarea type="text" rows="5" placeholder="Your feedback" name="feedback" id="feedback"
                                class="review-"></textarea>
                        </div>
                        <div class="review-input-wrapper">
                            <p class="review-input-label">Attachment</label>
                                <!-- <div class="review-uploaded-info">
                                <img class="review-uploader-img" src="./public/images/review-attachment-uploader.svg" alt="reviews Attachment uploader image">
                                <p class="review-uploader-title">Add Photo/Video</p>
                                <p class="review-uploader-info"><span class="review-uploaded-link"><input type="file" class="custom-file-input"/></span> or drug & drop</p>
                            </div> -->
                            <div style="margin-top: 24px;">
                                <input name="file" type="file" />
                            </div>
                        </div>
                        <div class="review-input-wrapper">
                            <input class="review-styled-checkbox" id="styled-checkbox-1" name="isAnnonymous"
                                type="checkbox">
                            <label for="styled-checkbox-1">Mark as anonymous</label>
                        </div>
                        <div class="review-btn-body">
                            <a href="#" class="review-btn-link">
                                <button class="review-btn btn-text"><span class="hide">Submit Review </span>
                                    <div class="btn-loader">
                                        <div class="loader"></div>
                                    </div>
                                </button>
                            </a>
                        </div>
                </form>
            </div>
        </div>
    </div>
    <script>
        const form = document.querySelector('form')
        form.addEventListener('submit', e => {
            e.preventDefault()
            const { isAnnonymous, name, email, title, feedback, file } = e.currentTarget
            const uploadedFile = file.files[file.files.length - 1]
            const star = [...document.querySelectorAll('input[type=radio]')]?.find(input => input.checked)?.value
            if (!star) return alert('Please Give a Review First')
            // const formData = new FormData();
            // formData.append
            console.log('%c Hurrayh!! Revew form submitted', 'font-family:monospace;font-size:20px;color:#0af;')
            console.log({ name: name.value, email: email.value, title: title.value, feedback: feedback.value, file: uploadedFile, product_id: {{ product.id }}})
   
        })
    </script>
</body>

</html>